(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){e.exports=a.p+"static/media/login.4f1652b8.png"},122:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){e.exports=a.p+"static/media/logo.cfd14ba7.png"},243:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(81),o=a.n(r),s=a(5),i=a.n(s),c=a(26),u=a(8),m=a(9),p=a(11),d=a(10),h=a(12),f=(a(94),a(95),a(96),a(14)),g=a.n(f),b=a(82),v=a.n(b),E=a(37),y=a.n(E),_=a(38),j=a.n(_),w=a(83),O=a.n(w),N=a(84),S=a.n(N),k=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={image1:y.a,image2:j.a},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector(".jumbotron_parent div:nth-child(1)"),a=(document.querySelector(".jumbotron_parent div:nth-child(2)"),document.querySelectorAll(".jumbo_div")),n=0;this.timeout=setTimeout((function(){a.forEach((function(e){return e.classList.add("fade_in")}))}),7e3),this.interval=setInterval((function(){t.classList.toggle("toggle_opacity"),++n>3&&(n=0),0==n?e.setState({image1:y.a}):1==n?e.setState({image2:j.a}):2==n?e.setState({image1:O.a}):3==n&&e.setState({image2:S.a})}),5e3),this.timeOut=setTimeout((function(){var e=document.querySelector(".jumbotron_parent");e.classList.remove("slide_out"),e.classList.add("slide_in")}),4e3)}},{key:"componentWillUnmount",value:function(){console.log("unmounting jumbotron and clearing ".concat(this.interval)),clearInterval(this.interval),clearTimeout(this.timeOut)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("main",{className:"jumbotron_parent slide_transition slide_out"},l.a.createElement("div",{className:"jumbo_div fade_transition"},l.a.createElement("img",{src:this.state.image1,alt:""})),l.a.createElement("div",{className:"jumbo_div fade_transition"},l.a.createElement("img",{src:this.state.image2,alt:""}))))}}]),t}(l.a.Component),x=(a(115),a(85)),C=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={onSetSidebarOpen:!0},a.onSetSidebarOpen=function(e){a.setState({sidebarOpen:e})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement("div",null,l.a.createElement("h1",null,"Hello world"),l.a.createElement("p",null,"How art thou Romeo?"));return l.a.createElement("div",null,l.a.createElement(x.a,{pullRight:!0,sidebar:l.a.createElement("b",null,t),open:this.state.sidebarOpen,onSetOpen:this.onSetSidebarOpen,styles:{sidebar:{background:"white",position:"absolute",zIndex:2,width:260,marginTop:90}}},l.a.createElement("button",{onClick:function(){return e.onSetSidebarOpen(!0)},className:this.state.sidebarOpen?"hamburger hamburger--elastic is-active":"hamburger hamburger--elastic",type:"button",style:{float:"right",marginTop:10}},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"})))))}}]),t}(n.Component);a(120);var D=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"login_container"},l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("img",{src:a(121),alt:""}),l.a.createElement("h1",null,"Login to your account")),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"username",className:"form-control",value:e.login.username,onChange:e.login.change,placeHolder:"username"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",name:"password",className:"form-control",value:e.login.password,onChange:e.login.change,placeHolder:"password"})),l.a.createElement("input",{type:"submit",className:"btn btn-block",value:"login",onClick:e.login.submit})))))},I=(a(122),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={toggle:0},a.edit_toggle=function(e){0===a.state.toggle?a.setState({toggle:1}):a.setState({toggle:0})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"dashboard_parent_container"},l.a.createElement("div",{id:"dashboard_container"},l.a.createElement("section",null,l.a.createElement("h4",null,l.a.createElement("span",null,"Welcome back")," ",this.props.data.username," "),l.a.createElement("h6",null,"All the information you want to share with your Dr. is here. ",l.a.createElement("br",null),"Feel free to update it at any time below."),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"Username:")," ",this.props.data.username),l.a.createElement("li",null,l.a.createElement("span",null,"Full Name:")," ",this.props.data.fullname),l.a.createElement("li",null,l.a.createElement("span",null,"Email:")," ",this.props.data.email),l.a.createElement("li",null,l.a.createElement("span",null,"Phone #:")," ",this.props.data.phone))),l.a.createElement("button",{className:"btn btn-sm btn-primary btn-block mb-3",onClick:this.edit_toggle},0===this.state.toggle?"Edit Info":"Back"),1===this.state.toggle&&l.a.createElement("section",{id:"dashboard_edit"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"fullname",value:this.props.data.fullname,onChange:this.props.change,className:"form-control"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",name:"email",value:this.props.data.email,onChange:this.props.change,className:"form-control"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"string",name:"phone",value:this.props.data.phone,onChange:this.props.change,className:"form-control"})),l.a.createElement("input",{type:"submit",onClick:this.props.submit,className:"btn btn-block",value:"Save Changes"}))),l.a.createElement("section",null,l.a.createElement("h4",null,l.a.createElement("span",null,"Send Dr. Furelos a file")),l.a.createElement("h6",null,"If you need to share a file with Dr. Furelos you can do so here. Click on choose file."),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",placeholder:"file name",className:"form-control mb-2"}),l.a.createElement("input",{type:"file",name:"file",onChange:this.props.file.file_change,className:"btn-primary btn-block"})),l.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",onClick:this.props.file.file_submit,value:"Send File"})))))}}]),t}(l.a.Component)),H=a(15),q=a(87),A=a.n(q),F=(n.Component,a(241),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",subject:"",message:""},a.form_change=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value),(function(){return console.log(a.state)}))},a.form_submit=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,i.a.awrap(g.a.post("/api/nodemailer",{name:a.state.name,subject:a.state.subject,message:a.state.message}).then((function(e){console.log("Email has been sent!",e)})).catch((function(e){return console.log("Unable to send email:",e)})));case 3:case"end":return t.stop()}}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"contact_container"},l.a.createElement("div",null,l.a.createElement("h1",null,"Contact the Clinic"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"name",onChange:this.form_change,className:"form-control",value:this.state.name,placeHolder:"name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"subject",onChange:this.form_change,className:"form-control",value:this.state.subject,placeHolder:"subject"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",name:"message",onChange:this.form_change,className:"form-control",value:this.state.message,placeHolder:"message..."})),l.a.createElement("input",{type:"submit",className:"btn btn-block btn-primary",onClick:this.form_submit}))))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).jwt=function(){return localStorage.getItem("token")},a.jwt_decode=function(){return v()(a.jwt())},a.body_fade_in=function(){var e=document.querySelector("#parent_container");setTimeout((function(){e.classList.add("fade_in")}),2e3)},a.login_change=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.update_change=function(e){var t=a.state.userData;"fullname"===e.target.name&&(t.fullname=e.target.value),"email"===e.target.name&&(t.email=e.target.value),"phone"===e.target.name&&(t.phone=e.target.value),a.setState({dummy:t})},a.file_change=function(e){a.setState({file:e.target.files[0]},(function(){return console.log("file state",a.state.file)}))},a.file_submit=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),(t=new FormData).append("file",a.state.file),n.next=5,i.a.awrap(g.a.post("/api/file_upload",t,{headers:{"Content-type":"multipart/form-data","x-auth-token":a.jwt()}}).then((function(e){return console.log("file sent",e)})).catch((function(e){return console.log("unable to send file",e)})));case 5:case"end":return n.stop()}}))},a.update_submit=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=a.jwt_decode(),n.next=4,i.a.awrap(g.a.post("/api/update_patient",{_id:t.user_id,fullname:a.state.userData.fullname,email:a.state.userData.email,phone:a.state.userData.phone},{headers:{"x-auth-token":a.jwt()}}).then((function(e){return console.log("Updated data sent!",e)})).catch((function(e){return console.log("Updated failed...",e)})));case 4:case"end":return n.stop()}}))},a.login_submit=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,i.a.awrap(g.a.get("/api/login_patient",{params:{username:a.state.username,password:a.state.password}}).then((function(e){a.setState({userData:{username:e.data.username,fullname:e.data.fullname,email:e.data.email,phone:e.data.phone,chatKey:e.data.chatKey}},(function(){return console.log("updpated global state: ",a.state)})),a.setState({logged:!0});var t=e.headers["x-auth-token"];localStorage.setItem("token",t)})).catch((function(e){return console.log("Unable to retrieve data: ",e)})));case 3:case"end":return t.stop()}}))},a.state={page:"",username:"",password:"",logged:!1,userData:{username:"",fullname:"",email:"",phone:"",chatKey:""},file:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.body_fade_in();localStorage.getItem("token")}},{key:"render",value:function(){var e={change:this.login_change,submit:this.login_submit,username:this.state.username,password:this.state.password},t=this.state.userData,n={file_change:this.file_change,file_submit:this.file_submit};return l.a.createElement("div",{id:"parent_container",className:"fade_transition"},l.a.createElement("header",{className:"header"},l.a.createElement("img",{src:a(242),alt:"brand logo"}),l.a.createElement(C,null)),l.a.createElement("main",null,l.a.createElement(k,null),this.state.logged?l.a.createElement(I,{data:t,submit:this.update_submit,change:this.update_change,file:n}):l.a.createElement(D,{login:e})),l.a.createElement("footer",null,l.a.createElement(F,null)))}}]),t}(l.a.Component);o.a.render(l.a.createElement(L,null),document.querySelector("#root"))},37:function(e,t,a){e.exports=a.p+"static/media/one.a2297d06.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/two.38354f98.jpg"},83:function(e,t,a){e.exports=a.p+"static/media/three.298ea34e.jpg"},84:function(e,t,a){e.exports=a.p+"static/media/four.cbdd4dc7.jpg"},88:function(e,t,a){e.exports=a(243)},94:function(e,t,a){},95:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.402641a4.chunk.js.map