(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},124:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){e.exports=a.p+"static/media/home.b00c10b3.png"},135:function(e,t,a){e.exports=a.p+"static/media/contact.251cb2aa.png"},136:function(e,t,a){e.exports=a.p+"static/media/logout.e2eb3b2c.png"},137:function(e,t,a){},138:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/next.8385e1b3.png"},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(90),i=a.n(o),s=a(30),l=a(3),c=a.n(l),m=a(6),u=a(7),d=a(9),p=a(8),h=a(10),g=(a(103),a(104),a(105),a(13)),f=a.n(g),b=a(41),v=a.n(b),E=a(16),y=a.n(E),_=a(42),k=a.n(_),S=a(43),j=a.n(S),N=a(91),w=a.n(N),O=a(92),C=a.n(O),x=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={image1:k.a,image2:j.a,count:0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector(".jumbotron_parent div:nth-child(1)"),a=document.querySelector(".jumbotron_parent div:nth-child(2)"),n=(document.querySelectorAll(".jumbo_div"),0);this.timeout=setTimeout((function(){t.classList.add("fade_in"),e.interval=setInterval((function(){t.classList.toggle("toggle_opacity"),a.classList.add("fade_in"),++n>3&&(n=0),0==n?e.setState({image1:k.a}):1==n?e.setState({image2:j.a}):2==n?e.setState({image1:w.a}):3==n&&e.setState({image2:C.a})}),5e3)}),6e3),this.timeOut=setTimeout((function(){var e=document.querySelector(".jumbotron_parent");e.classList.remove("slide_out"),e.classList.add("slide_in")}),2e3)}},{key:"componentWillUnmount",value:function(){console.log("unmounting jumbotron and clearing ".concat(this.interval)),clearInterval(this.interval),clearTimeout(this.timeOut),clearTimeout(this.timeout)}},{key:"render",value:function(){return r.a.createElement("div",{className:"page_transition"},r.a.createElement("main",{className:"jumbotron_parent slide_transition slide_out"},r.a.createElement("div",{className:"jumbo_div fade_transition"},r.a.createElement("img",{src:this.state.image1,alt:""})),r.a.createElement("div",{className:"jumbo_div fade_transition"},r.a.createElement("img",{src:this.state.image2,alt:""}))))}}]),t}(r.a.Component),T=(a(124),a(93)),R=a(95),q=a.n(R),D=(a(133),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={onSetSidebarOpen:!0,sidebarOpen:!1},a.onSetSidebarOpen=function(e){a.setState({sidebarOpen:e})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"navbar_container"},r.a.createElement("span",null,r.a.createElement("img",{src:a(25),alt:"logo"})),r.a.createElement("nav",null,r.a.createElement("a",{className:"nav_item",onClick:this.props.page_handler},r.a.createElement("img",{src:a(134),alt:""}),r.a.createElement("p",{id:"home"},"Home"),r.a.createElement("img",{src:a(23),alt:""})),r.a.createElement("a",{className:"nav_item",onClick:this.props.page_handler},r.a.createElement("img",{src:a(54),alt:""}),r.a.createElement("p",{id:"login"},this.props.logged?"Dashboard":"Login"),r.a.createElement("img",{src:a(23),alt:""})),this.props.logged&&r.a.createElement("a",{className:"nav_item",onClick:this.props.page_handler},r.a.createElement("img",{src:a(55),alt:""}),r.a.createElement("p",{id:"consultation"},"Consultation"),r.a.createElement("img",{src:a(23),alt:""})),r.a.createElement(q.a,{to:"#contact_container",animate:{offset:12,duration:300}},r.a.createElement("a",{className:"nav_item",onClick:this.props.page_handler},r.a.createElement("img",{src:a(135),alt:""}),r.a.createElement("p",{id:"contact"},"Contact"),r.a.createElement("img",{src:a(23),alt:""}))),this.props.logged&&r.a.createElement("a",{className:"nav_item",onClick:this.props.logout},r.a.createElement("img",{src:a(136),alt:""}),r.a.createElement("p",null,"Logout"),r.a.createElement("img",{src:a(23),alt:""}))));return r.a.createElement("div",null,r.a.createElement(T.a,{pullRight:!0,sidebar:r.a.createElement("b",null,t),open:this.state.sidebarOpen,onSetOpen:this.onSetSidebarOpen,styles:{sidebar:{background:"white",width:300,marginTop:90,border:"solid thick rgba(192, 192, 192, 0.589)",padding:10,position:"fixed"}}},r.a.createElement("button",{onClick:function(){return e.onSetSidebarOpen(!0)},className:this.state.sidebarOpen?"hamburger hamburger--elastic is-active":"hamburger hamburger--elastic",type:"button",style:{float:"right",marginTop:10}},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"})))))}}]),t}(n.Component)),A=(a(137),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={form:1},a.toggle_form=function(){a.setState({form:1}),1===a.state.form&&a.setState({form:0})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=r.a.createElement("form",{onSubmit:this.props.login.register},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",className:"form-control",value:this.props.login.username,onChange:this.props.login.change,placeHolder:"username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"password",className:"form-control",value:this.props.login.password,onChange:this.props.login.change,placeHolder:"password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"email",className:"form-control",value:this.props.login.email,onChange:this.props.login.change,placeHolder:"email",required:!0})),r.a.createElement("input",{type:"submit",className:"btn btn-block btn-primary",value:"register"}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.toggle_form},"Back"));return r.a.createElement("div",{id:"login",className:"login_container"},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("img",{src:a(54),alt:""}),this.state.form?r.a.createElement("h1",null,"Login to your account"):r.a.createElement("h1",null,"Register a new account")),this.state.form?r.a.createElement("form",{onSubmit:this.props.login.submit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",className:"form-control",value:this.props.login.username,onChange:this.props.login.change,placeHolder:"username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",className:"form-control",value:this.props.login.password,onChange:this.props.login.change,placeHolder:"password",required:!0})),r.a.createElement("input",{type:"submit",className:"btn btn-block btn-primary",value:"login"}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.toggle_form},"Register")):e))}}]),t}(r.a.Component)),I=(a(138),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={toggle:0},a.edit_toggle=function(e){0===a.state.toggle?a.setState({toggle:1}):a.setState({toggle:0})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("#dashboard_parent_container");this.slide=setTimeout((function(){e.classList.remove("slide_out_left"),e.classList.add("slide_in_right")}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.slide)}},{key:"render",value:function(){return r.a.createElement("div",{id:"dashboard_parent_container",className:"slide_transition slide_out_left"},r.a.createElement("div",{id:"dashboard_container"},r.a.createElement("section",null,r.a.createElement("h1",null,r.a.createElement("span",null,"Your Dashboard")," ",this.props.data.username," "),r.a.createElement("h6",null,"All the information you want to share with your Dr. is here. ",r.a.createElement("br",null),"Feel free to update it at any time below."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Username:")," ",this.props.data.username),r.a.createElement("li",null,r.a.createElement("span",null,"Full Name:")," ",this.props.data.fullname),r.a.createElement("li",null,r.a.createElement("span",null,"Email:")," ",this.props.data.email),r.a.createElement("li",null,r.a.createElement("span",null,"Phone #:")," ",this.props.data.phone))),r.a.createElement("button",{className:"btn btn-sm btn-primary btn-block mb-3",onClick:this.edit_toggle},0===this.state.toggle?"Edit Info":"Back"),1===this.state.toggle&&r.a.createElement("section",{id:"dashboard_edit"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"fullname",value:this.props.data.fullname,onChange:this.props.change,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",name:"email",value:this.props.data.email,onChange:this.props.change,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"string",name:"phone",value:this.props.data.phone,onChange:this.props.change,className:"form-control"})),r.a.createElement("input",{type:"submit",onClick:this.props.submit,className:"btn btn-block",value:this.props.file.changes_saved?"Saved!":"Save Changes"}))),r.a.createElement("section",null,r.a.createElement("h4",null,r.a.createElement("span",null,"Send Dr. Furelos a file")),r.a.createElement("h6",null,"If you need to share a file with Dr. Furelos you can do so here. Click on choose file."),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"file",name:"file",onChange:this.props.file.file_change,className:"btn-primary btn-block"})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",onClick:this.props.file.file_submit,value:this.props.file.file_saved?"Sent!":"Send File"})))))}}]),t}(r.a.Component)),J=a(15),M=a(96),L=a.n(M),P=(a(238),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this))).slide_transition=function(){var e=document.querySelector(".chat_parent_container");a.slide=setTimeout((function(){e.classList.remove("slide_out"),e.classList.add("slide_in")}),1e3)},a.state={token:"",identity:null,roomName:"",roomNameErr:!1,previewTracks:null,localMediaAvailable:!1,hasJoinedRoom:!1,activeRoom:null,stayOn:!0},a.joinRoom=a.joinRoom.bind(Object(J.a)(a)),a.handleRoomNameChange=a.handleRoomNameChange.bind(Object(J.a)(a)),a.leaveRoom=a.leaveRoom.bind(Object(J.a)(a)),a.detachTracks=a.detachTracks.bind(Object(J.a)(a)),a.detachParticipantTracks=a.detachParticipantTracks.bind(Object(J.a)(a)),a.roomJoined=a.roomJoined.bind(Object(J.a)(a)),a.getTracks=a.getTracks.bind(Object(J.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleRoomNameChange",value:function(e){var t=e.target.value;this.setState({roomName:t})}},{key:"joinRoom",value:function(){if(this.state.roomName.trim()){console.log("Joining room '"+this.state.roomName+"'...");var e={name:this.state.roomName};this.state.previewTracks&&(e.tracks=this.state.previewTracks),L.a.connect(this.state.token,e).then(this.roomJoined,(function(e){alert("Could not connect to Twilio: "+e.message)}))}else this.setState({roomNameErr:!0})}},{key:"attachTracks",value:function(e,t){e.forEach((function(e){t.appendChild(e.attach())}))}},{key:"attachParticipantTracks",value:function(e,t,a){var n=this.getTracks(e);console.log("attaching participant tracks"),this.attachTracks(n,t,a)}},{key:"getTracks",value:function(e){return Array.from(e.tracks.values()).filter((function(e){return e.track})).map((function(e){return e.track}))}},{key:"roomJoined",value:function(e){var t=this;console.log("Joined as '"+this.state.identity+"'"),this.setState({activeRoom:e,localMediaAvailable:!0,hasJoinedRoom:!0});var a=this.refs.localMedia;a.querySelector("video")||this.attachParticipantTracks(e.localParticipant,a),e.participants.forEach((function(e){console.log("Already in Room: '"+e.identity+"'");var a=t.refs.remoteMedia;t.attachParticipantTracks(e,a),e.tracks.forEach((function(e){if(e.isSubscribed){var t=e.track;document.getElementById("remote-media-div").appendChild(t.attach())}})),e.on("trackSubscribed",(function(e){document.getElementById("remote-media-div").appendChild(e.attach())}))})),e.on("participantConnected",(function(e){console.log("Joining: '"+e.identity+"'"),e.tracks.forEach((function(e){if(e.isSubscribed){var t=e.track;document.getElementById("remote-media-div").appendChild(t.attach())}})),e.on("trackSubscribed",(function(e){document.getElementById("remote-media-div").appendChild(e.attach()),document.querySelector("#remote-media-div").style.display="block",document.querySelector("#remote-media-div").onclick=function(e){e.target.style.display="none"}}))})),e.on("trackAdded",(function(e,a){console.log(a.identity+" added track: "+e.kind);var n=t.refs.remoteMedia;t.attachTracks([e],n)})),e.on("trackRemoved",(function(e,a){t.log(a.identity+" removed track: "+e.kind);var n=t.refs.remoteMedia;t.detachTracks([e],n),document.getElementById("remote-media-div").style.display="none"})),e.on("participantDisconnected",(function(e){console.log("Participant '"+e.identity+"' left the room"),t.detachParticipantTracks(e),document.getElementById("remote-media-div").style.display="none"})),e.on("disconnected",(function(e){t.state.previewTracks&&t.state.previewTracks.forEach((function(e){e.stop()})),t.detachParticipantTracks(e.localParticipant),e.participants.forEach(t.detachParticipantTracks),t.state.activeRoom=null,t.setState({hasJoinedRoom:!1,localMediaAvailable:!1})}))}},{key:"leaveRoom",value:function(){this.state.activeRoom.disconnect(),this.setState({hasJoinedRoom:!1,localMediaAvailable:!1})}},{key:"detachParticipantTracks",value:function(e){var t=this.getTracks(e);this.detachTracks(t)}},{key:"detachTracks",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value.detach(),s=!0,l=!1,c=void 0;try{for(var m,u=i[Symbol.iterator]();!(s=(m=u.next()).done);s=!0){m.value.remove()}}catch(d){l=!0,c=d}finally{try{s||null==u.return||u.return()}finally{if(l)throw c}}}}catch(d){a=!0,n=d}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}},{key:"componentDidMount",value:function(){var e=this;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f.a.get("/api/twilio",{params:{username:this.props.token.username}}).then((function(t){var a=t.data,n=a.identity,r=a.token;console.log("twilio results",t),e.setState({identity:n,token:r})})).catch((function(e){return console.log("unable to get twilio key",e)})));case 2:this.slide_transition();case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"chat_content"},r.a.createElement("h1",null,"Chat"),r.a.createElement("img",{className:"chat_items",src:a(55),alt:""})),t=this.state.localMediaAvailable?r.a.createElement("div",null,r.a.createElement("p",{className:"m-2"},"You can chat with your physician below. To close any videos which are not working simply click on them."),r.a.createElement("div",{ref:"localMedia",id:"video",className:"chat_content"}),r.a.createElement("div",{id:"remote-media-div"})):e,n=this.state.hasJoinedRoom?r.a.createElement("input",{type:"submit",className:"chat_btn btn btn-primary",value:"Leave Room",onClick:this.leaveRoom}):r.a.createElement("input",{type:"submit",className:"chat_btn btn btn-primary",value:"Join Room",onClick:this.joinRoom});return r.a.createElement("div",{className:"chat_parent_container slide_transition slide_out"},r.a.createElement("div",{className:"chat"},t,!this.state.hasJoinedRoom&&r.a.createElement("input",{className:"chat_items",type:"text",placeHolder:"Your Chat Key",onChange:this.handleRoomNameChange,errortext:this.state.roomNameErr?"Room Name is required":void 0}),n))}}]),t}(n.Component)),H=(a(239),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",subject:"",message:"",sent:!1,error:""},a.form_change=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.joi_funk=function(e){e.preventDefault();var t={name:y.a.string().required(),subject:y.a.string().required(),message:y.a.string().min(10).required()};y.a.validate({name:a.state.name,subject:a.state.subject,message:a.state.message},t).then((function(){return a.form_submit()})).catch((function(e){console.log(e.details[0].message);var t=e.details[0].message;a.setState({error:t}),alert(a.state.error)}))},a.form_submit=function(e){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f.a.post("/api/nodemailer",{name:a.state.name,subject:a.state.subject,message:a.state.message}).then((function(e){console.log("Email has been sent!",e),a.setState({sent:!0}),setTimeout((function(){a.setState({sent:!1,name:"",subject:"",message:""})}),3e3)})).catch((function(e){return console.log("Unable to send email:",e)})));case 2:case"end":return e.stop()}}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"contact_container"},r.a.createElement("div",null,r.a.createElement("h1",null,"Contact the Clinic"),r.a.createElement("form",{onSubmit:this.joi_funk},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"name",onChange:this.form_change,className:"form-control",value:this.state.name,placeHolder:"name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"subject",onChange:this.form_change,className:"form-control",value:this.state.subject,placeHolder:"subject",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",name:"message",onChange:this.form_change,className:"form-control",value:this.state.message,placeHolder:"message...",required:!0})),r.a.createElement("input",{type:"submit",className:"btn btn-block btn-primary",value:this.state.sent?"Message Sent!":"Send Message"}))))}}]),t}(n.Component)),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).page_handler=function(e){"home"===e.target.id?(a.setState({page:"home"}),console.log(e.target.id)):"login"===e.target.id?(console.log(e.target.id),a.setState({page:"dashboard"})):"consultation"===e.target.id&&(console.log(e.target.id),a.setState({page:"consultation"}))},a.jwt=function(){return localStorage.getItem("token")},a.jwt_decode=function(){var e=localStorage.getItem("token");return v()(e)},a.body_fade_in=function(){var e=document.querySelector("#parent_container");setTimeout((function(){e.classList.add("fade_in")}),2e3)},a.file_change=function(e){"file"===e.target.type&&(a.setState({file:e.target.files[0]},(function(){return console.log("file state",a.state.file)})),console.log(e.target.value))},a.file_submit=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),(t=new FormData).append("file",a.state.file),a.setState({file_saved:!0}),n.next=6,c.a.awrap(f.a.post("/api/file_upload",t,{headers:{"Content-type":"multipart/form-data","x-auth-token":a.jwt()}}).then((function(e){console.log("file sent",e),setTimeout((function(){a.setState({file_saved:!1})}),1e3)})).catch((function(e){console.log("unable to send file",e);a.setState({error:"unable to send file. try again shortly."}),alert(a.state.error)})));case 6:case"end":return n.stop()}}))},a.update_change=function(e){var t=a.state.userData;"fullname"===e.target.name&&(t.fullname=e.target.value),"email"===e.target.name&&(t.email=e.target.value),"phone"===e.target.name&&(t.phone=e.target.value),a.setState({dummy:t})},a.update_submit=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=a.jwt_decode(),n.next=4,c.a.awrap(f.a.post("/api/update_patient",{_id:t.user_id,fullname:a.state.userData.fullname,email:a.state.userData.email,phone:a.state.userData.phone},{headers:{"x-auth-token":a.jwt()}}).then((function(e){console.log("Updated data sent!",e),a.setState({changes_saved:!0}),setTimeout((function(){a.setState({changes_saved:!1})}),3e3)})).catch((function(e){return console.log("Updated failed...",e)})));case 4:case"end":return n.stop()}}))},a.login_change=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value.toLowerCase()))},a.login_submit=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,c.a.awrap(f.a.get("/api/login_patient",{params:{username:a.state.username,password:a.state.password}}).then((function(e){a.setState({userData:{username:e.data.username,fullname:e.data.fullname,email:e.data.email,phone:e.data.phone,chatKey:e.data.chatKey}},(function(){return console.log("updpated global state: ",a.state)})),a.setState({logged:!0});var t=e.headers["x-auth-token"];localStorage.setItem("token",t)})).catch((function(e){console.log("username or password is incorrect: ",e),a.setState({error:"username or password is incorrect"}),alert(a.state.error)})));case 3:case"end":return t.stop()}}))},a.register_submit=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),t={username:y.a.string().min(4).max(15).required(),password:y.a.string().min(4).max(128).required(),email:y.a.string().email({minDomainAtoms:2}).required()},y.a.validate({username:a.state.username,email:a.state.email,password:a.state.password},t).then((function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f.a.post("/api/create_patient",{username:a.state.username,password:a.state.password,email:a.state.email}).then((function(e){a.setState({userData:{username:e.data.username,fullname:e.data.fullname,email:e.data.email,phone:e.data.phone,chatKey:e.data.chatKey}},(function(){return console.log("updpated global state: ",a.state)})),a.setState({logged:!0});var t=e.headers["x-auth-token"];localStorage.setItem("token",t)})).catch((function(e){a.setState({error:"username or email already registered"}),alert(a.state.error)})));case 2:case"end":return e.stop()}}))})).catch((function(e){console.log("not working",e.details[0].message),a.setState({error:e.details[0].message}),alert(a.state.error)}));case 3:case"end":return n.stop()}}))},a.logout_handler=function(e){localStorage.removeItem("token");a.setState({logged:!1})},a.state={page:"home",username:"",email:"",password:"",error:"",logged:!1,changes_saved:!1,file_name:"",file_saved:!1,userData:{username:"",fullname:"",email:"",phone:"",chatKey:""},file:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.body_fade_in(),!(e=localStorage.getItem("token"))){a.next=5;break}return a.next=5,c.a.awrap(f.a.get("/api/get_patient",{params:{_id:this.jwt_decode(e).user_id}}).then((function(e){t.setState({userData:{username:e.data.username,fullname:e.data.fullname,email:e.data.email,phone:e.data.phone,chatKey:e.data.chatKey}},(function(){return console.log("updpated global state: ",t.state)})),t.setState({logged:!0})})).catch((function(e){return console.log("Unable to retrieve data: ",e)})));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e={change:this.login_change,submit:this.login_submit,username:this.state.username,password:this.state.password,register:this.register_submit},t=this.state.userData,n={file_change:this.file_change,file_submit:this.file_submit,changes_saved:this.state.changes_saved,file_saved:this.state.file_saved};return"dashboard"===this.state.page?r.a.createElement("div",{id:"parent_container",className:"fade_transition"},r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:a(25),alt:"brand logo"}),r.a.createElement(D,{page_handler:this.page_handler,logged:this.state.logged,logout:this.logout_handler})),r.a.createElement("main",null,this.state.logged?r.a.createElement(I,{data:t,submit:this.update_submit,change:this.update_change,file:n}):r.a.createElement(A,{login:e})),r.a.createElement("footer",null,r.a.createElement(H,null))):"home"===this.state.page?r.a.createElement("div",{id:"parent_container",className:"fade_transition"},r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:a(25),alt:"brand logo"}),r.a.createElement(D,{page_handler:this.page_handler,logged:this.state.logged,logout:this.logout_handler})),r.a.createElement("main",null,r.a.createElement(x,null)),r.a.createElement("footer",null,r.a.createElement(H,null))):"consultation"===this.state.page?r.a.createElement("div",{id:"parent_container",className:"fade_transition"},r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:a(25),alt:"brand logo"}),r.a.createElement(D,{page_handler:this.page_handler,logged:this.state.logged,logout:this.logout_handler})),r.a.createElement("main",null,this.state.logged?r.a.createElement(P,{token:this.jwt_decode()}):r.a.createElement(x,null),this.state.logged?r.a.createElement(I,{data:t,submit:this.update_submit,change:this.update_change,file:n}):r.a.createElement(A,{login:e})),r.a.createElement("footer",null,r.a.createElement(H,null))):void 0}}]),t}(r.a.Component);i.a.render(r.a.createElement(B,null),document.querySelector("#root"))},25:function(e,t,a){e.exports=a.p+"static/media/logo.cfd14ba7.png"},42:function(e,t,a){e.exports=a.p+"static/media/one.a2297d06.jpg"},43:function(e,t,a){e.exports=a.p+"static/media/two.38354f98.jpg"},54:function(e,t,a){e.exports=a.p+"static/media/login.4f1652b8.png"},55:function(e,t,a){e.exports=a.p+"static/media/doctor-icon.80a54b5b.png"},91:function(e,t,a){e.exports=a.p+"static/media/three.298ea34e.jpg"},92:function(e,t,a){e.exports=a.p+"static/media/four.cbdd4dc7.jpg"},97:function(e,t,a){e.exports=a(240)}},[[97,1,2]]]);
//# sourceMappingURL=main.f22e5be8.chunk.js.map